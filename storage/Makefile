all: format check test
check:
	gometalinter --enable lll --enable goimports --enable "gofmt -s"
format:
	goimports -w .
test:
	go test -race .
bench:
	go test -benchmem -bench .
escape:
	@echo "Not escapes, except autogenerated and bytebufer.go:"
	@go build -gcflags '-m -l' 2>&1 | grep escape | grep -v "<autogenerated>" | grep -v ./bytebuffer.go | grep -v escapes
